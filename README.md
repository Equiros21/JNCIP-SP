JNCIP-SP vMX Core Lab
This repository contains a fully automated, scalable Juniper vMX core topology for advanced service provider labs, JNCIP-SP exam practice, and network automation demos using Ansible.

ğŸš€ Lab Overview
Core Routers: PE1â€“PE9, P4 (all vMX virtual routers)

Customer/Edge Routers: (e.g., BGP-1, BGP-2, GOLD-1, EVPN-1, INET-1, etc.)

Automation: Ansible playbooks, Jinja2 templates, and YAML inventory

Design: Deterministic IP and interface mapping for reproducible labs

ğŸ“‚ Repository Structure
.
â”œâ”€â”€ ansible-env/ # Python virtual environment for Ansible
â”œâ”€â”€ facts/ # Collected device facts (autogenerated)
â”œâ”€â”€ group_vars/ # Global Ansible variables (e.g., credentials)
â”œâ”€â”€ host_vars/ # Per-device variables (loopbacks, interfaces, etc)
â”œâ”€â”€ hosts.ini # Ansible inventory (defines core/customer groups)
â”œâ”€â”€ path/ # (custom scripts or utilities if any)
â”œâ”€â”€ playbooks/ # Ansible playbooks (deploy, collect-facts, etc)
â”œâ”€â”€ templates/ # Jinja2 templates for config generation

ğŸ§  Key Features
Idempotent automation: Safe to rerun Ansible playbooks; config is always merged safely using Junos â€œsetâ€ format in private candidate mode.

Deterministic topology: Interface and addressing conventions ensure predictable lab setup.

Device-centric config: All configuration is driven by host_vars/ files for each router.

Facts collection: Playbooks to gather and store device state for verification and troubleshooting.

ğŸ”§ Quickstart
Clone this repository:
git clone https://github.com/Equiros21/JNCIP-SP.git
cd JNCIP-SP

Activate your Python virtual environment:
source ansible-env/bin/activate

Install required Ansible collections:
ansible-galaxy collection install -r requirements.yml

Customize your variables:

Edit host_vars/PE1.yml, host_vars/PE2.yml, etc.

Edit group_vars/all.yml for credentials and global settings.

Deploy a configuration (example):
ansible-playbook playbooks/deploy-ospf.yml

Collect facts:
ansible-playbook playbooks/collect-facts.yml

ğŸ“¦ Requirements
Junos vMX images (see .gitignore â€” images are not included)

Python 3.8+

Ansible 2.9+

Juniper.junos Ansible Collection

ncclient and jinja2 Python modules

âš ï¸ .gitignore
The repo excludes virtual environments, VM images, and temporary files.

ansible-env/
*.vmdk
*.img
*.qcow2
*.iso
*.log
*.swp
*.bak
pycache/

ğŸ“ Notes
All device config is maintained in host_vars/ (never hand-edit playbooks for device-specifics).

Output directories like /facts are created automatically if needed.

Version compatibility: Some Juniper Ansible collections lag behind Ansible core; see requirements.yml for tested versions.

ğŸ¤ Contributing
PRs and improvements are welcome! Fork and submit a pull request for review.

ğŸ‘¨â€ğŸ’» Maintainer
Esteban Quiros
Equiros21 on GitHub

ğŸ“„ License
MIT License (or specify your preferred license)
